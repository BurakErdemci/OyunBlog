<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>@ViewData["Title"] - Oyun Blog</title>
    <link rel="stylesheet" href="~/assets/css/main.css" />
</head>
<body class="is-preload">
    <div id="wrapper">
        <div id="main">
            <div class="inner">
                <!-- Header -->
                <header id="header" style="position:relative; display:flex; align-items:center; justify-content:space-between; padding:0 16px; min-height:70px;">
                    <a href="/" class="logo" style="display:flex; align-items:center;">
                        <strong>Oyun Blog</strong>
                        <img src="~/Uploads/Gemini_Generated_Image_10fnq110fnq110fn.png" alt="Oyun Blog Banner" style="height:36px; margin-left:10px; border-radius:6px;" />
                    </a>
                    <div style="flex:1; display:flex; justify-content:center; align-items:center;">
                        @if (User.Identity != null && User.Identity.IsAuthenticated)
                        {
                            <div style="display:flex; gap:8px; align-items:center;">
                                <a href="/Account/Profile" style="font-weight:600; font-size:1.08rem; color:#e53935; background:#fff; border:1.2px solid #e53935; border-radius:4px; padding:0.18rem 0.9rem; cursor:pointer; text-decoration:none; transition:all 0.2s;">@User.Identity.Name</a>
                                <form id="logoutForm" method="post" action="/Account/Logout" style="display:inline; margin:0;">
                                    @Html.AntiForgeryToken()
                                    <a href="/Account/Logout" id="logoutLink" style="display:none; font-weight:600; font-size:1.08rem; color:#fff; background:#e53935; border:1.2px solid #e53935; border-radius:4px; padding:0.18rem 0.9rem; cursor:pointer; text-decoration:none; transition:all 0.2s;">Çıkış Yap</a>
                                </form>
                            </div>
                            <script>
                                const userWelcome = document.querySelector('a[href="/Account/Profile"]');
                                const logoutLink = document.getElementById('logoutLink');
                                userWelcome.addEventListener('mouseenter', function() {
                                    userWelcome.style.display = 'none';
                                    logoutLink.style.display = 'inline-block';
                                });
                                logoutLink.addEventListener('mouseleave', function() {
                                    logoutLink.style.display = 'none';
                                    userWelcome.style.display = 'inline-block';
                                });
                                logoutLink.addEventListener('click', function(e) {
                                    e.preventDefault();
                                    document.getElementById('logoutForm').submit();
                                });
                            </script>
                        }
                        else
                        {
                            <div style="display:flex; gap:8px; align-items:center;">
                                <a href="/Account/Login" class="button" style="padding:0.18rem 0.9rem; font-size:0.92rem; border:1.2px solid #e53935; color:#e53935; background:#fff; border-radius:4px; font-weight:600; text-decoration:none; transition:all 0.2s;">Giriş Yap</a>
                                <a href="/Account/Register" class="button" style="padding:0.18rem 0.9rem; font-size:0.92rem; border:1.2px solid #e53935; color:#e53935; background:#fff; border-radius:4px; font-weight:600; text-decoration:none; transition:all 0.2s;">Kayıt Ol</a>
                            </div>
                        }
                    </div>
                    <ul class="icons" style="margin-bottom:0; display:flex; gap:10px; align-items:center; justify-content:flex-end;">
                        <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                        <li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
                        <li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
                    </ul>
                </header>
                @RenderBody()
            </div>
        </div>
        <!-- Sidebar -->
        <div id="sidebar">
            <div class="inner">
                <!-- Search -->
                <section id="search" class="alt">
                    <form method="get" action="/Forum">
                        <input type="text" name="q" id="query" placeholder="Forumda ara..." />
                    </form>
                </section>
                <!-- Menu -->
                <nav id="menu">
                    <header class="major">
                        <h2>Menu</h2>
                    </header>
                    <ul>
                        <li><a href="/">Ana Sayfa</a></li>
                        <li><a href="/Oyunlar">Oyunlar</a></li>
                        <li><a href="/Indirimler">İndirimler</a></li>
                        <li><a href="/Forum">Forum</a></li>
                        <li><a href="MainPage/Pages/Error404.cshtml">404 Test Sayfası</a></li>
                        @if (User.Identity != null && User.Identity.IsAuthenticated)
                        {
                            <li><a href="/Account/Profile">Profil</a></li>
                        }
                    </ul>
                </nav>
                <!-- Footer -->
                <footer id="footer">
                    <p class="copyright">&copy; Oyun Blog. Tüm hakları saklıdır.</p>
                </footer>
            </div>
        </div>
    </div>
    <!-- Scripts -->
    <script src="~/assets/js/jquery.min.js"></script>
    <script src="~/assets/js/browser.min.js"></script>
    <script src="~/assets/js/breakpoints.min.js"></script>
    <script src="~/assets/js/util.js"></script>
    <script src="~/assets/js/main.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>